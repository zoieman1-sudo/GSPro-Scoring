{% extends "base.html" %}
{% block content %}
  <section class="card matches-card">
    <div class="match-meta">
      <p class="eyebrow">GSPro League Matches</p>
      <h1 class="match-title">Match IDs &amp; Results</h1>
      <p class="match-sub">Every submitted result, ready for formatting or routing.</p>
    </div>

    {% if results %}
      <div class="match-ids-table-wrapper">
        <table class="match-ids-table">
          <thead>
            <tr>
              <th scope="col">#</th>
              <th scope="col">Match</th>
              <th scope="col">Key</th>
              <th scope="col">Code</th>
              <th scope="col">Totals</th>
              <th scope="col">Winner</th>
              <th scope="col">Submitted</th>
            </tr>
          </thead>
          <tbody>
            {% for match in results %}
              {% set winner_name = match.player_a_name if match.winner == 'A' else match.player_b_name if match.winner == 'B' else 'Draw' %}
              <tr>
                <td data-label="ID">{{ match.id }}</td>
                <td data-label="Match">
                  <strong>{{ match.match_name }}</strong>
                  <br />
                  <small>{{ match.player_a_name }} vs {{ match.player_b_name }}</small>
                </td>
                <td data-label="Match Key">{{ match.match_key }}</td>
                <td data-label="Match Code">{{ match.match_code }}</td>
                <td data-label="Totals">{{ match.player_a_total }} - {{ match.player_b_total }}</td>
                <td data-label="Winner">{{ winner_name }}</td>
                <td data-label="Submitted">{{ match.submitted_at or "Pending" }}</td>
              </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    {% else %}
      <p class="status">No match results recorded yet.</p>
    {% endif %}
  </section>
  <style>
    .match-ids-table-wrapper {
      margin-top: 1.5rem;
      overflow-x: auto;
    }
    .match-ids-table {
      width: 100%;
      border-collapse: collapse;
      min-width: 720px;
    }
    .match-ids-table th,
    .match-ids-table td {
      padding: 0.75rem 0.9rem;
      text-align: left;
      border-bottom: 1px solid rgba(255, 255, 255, 0.06);
      font-size: 0.9rem;
      vertical-align: top;
    }
    .match-ids-table th {
      text-transform: uppercase;
      font-size: 0.7rem;
      letter-spacing: 0.08em;
      color: rgba(255, 255, 255, 0.6);
    }
    .match-ids-table tbody tr:hover {
      background: rgba(255, 255, 255, 0.03);
    }
    .match-ids-table td small {
      color: rgba(255, 255, 255, 0.65);
    }
  </style>
{% endblock %}
