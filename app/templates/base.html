<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, viewport-fit=cover"
    />
    <title>GSPro Scoring</title>
    <link rel="stylesheet" href="/static/css/theme.css" />
  </head>
  <body>
    <div class="bg-shapes" aria-hidden="true"></div>
    <div class="layout">
      <header class="top-nav">
        <div class="top-nav__title">
          <span class="top-nav__brand">GSPro Score</span>
          <span class="top-nav__subline">Tournament operations</span>
        </div>
        {% set nav_sections = [
          {
            "label": "Score operations",
            "links": [
              {"href":"/new_card","label":"Scorecard Studio"},
              {"href":"/match_list","label":"Match List"},
              {"href":"/play_match","label":"Play Match"},
              {"href":"/standings","label":"Standings"}
            ]
          },
          {
            "label": "Programs & setup",
            "rows": [
              [
                {"href":"/tournaments","label":"Tournaments"},
                {"href":"/admin/tournament_setup","label":"Tournament Setup"},
                {"href":"/admin/setup/course","label":"Get Courses"}
              ],
              [
                {"href":"/live_matches","label":"Live Matches"},
                {"href":"/tournament_history","label":"Match History"},
                {"href":"/other_stuff","label":"Other Stuff"},
                {"href":"/admin/match_setup","label":"Match Setup"}
              ]
            ]
          }
        ] %}
        <nav class="top-nav__grid">
          {% for section in nav_sections %}
            <div class="top-nav__section">
              <div class="top-nav__section-label">{{ section.label }}</div>
              {% if section.rows %}
                {% for row in section.rows %}
                  <div class="top-nav__row{% if loop.first %} top-nav__row--center{% endif %}">
                    {% for item in row %}
                      {% set is_active = request.url.path.startswith(item.href) %}
                      <a
                        class="top-nav__pill{% if is_active %} is-active{% endif %}"
                        href="{{ item.href }}"
                        role="button"
                      >
                        {{ item.label }}
                      </a>
                    {% endfor %}
                  </div>
                {% endfor %}
              {% else %}
                <div class="top-nav__row">
                  {% for item in section.links %}
                    {% set is_active = request.url.path.startswith(item.href) %}
                    <a
                      class="top-nav__pill{% if is_active %} is-active{% endif %}"
                      href="{{ item.href }}"
                      role="button"
                    >
                      {{ item.label }}
                    </a>
                  {% endfor %}
                </div>
              {% endif %}
            </div>
          {% endfor %}
        </nav>
      </header>
      <main class="shell">
        {% block content %}{% endblock %}
      </main>
    </div>
    <script src="/static/js/app.js"></script>
  </body>
</html>
