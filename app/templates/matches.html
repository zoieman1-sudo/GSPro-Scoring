{% extends "base.html" %}
{% block content %}
  <section class="card matches-card">
    <div class="match-meta">
      <p class="eyebrow">GSPro League Matches</p>
      <h1 class="match-title">Recent Match Results</h1>
      <p class="match-sub">Select a match to view or update the hole-by-hole sheet.</p>
    </div>

    {% if matches %}
      <div class="matches-table">
        {% for result in matches %}
          {% set winner = result.player_a_name if result.winner == 'A' else result.player_b_name if result.winner == 'B' else 'Draw' %}
          <a class="match-row" href="/matches/{{ result.id }}">
            <div class="match-info">
              <p class="match-name">{{ result.match_name }}</p>
              <span class="match-meta-detail">{{ result.player_a_name }} vs {{ result.player_b_name }}</span>
            </div>
            <div class="match-score">
              {{ result.player_a_total }} - {{ result.player_b_total }}
            </div>
            <div class="match-winner">
              Winner: {{ winner }}
            </div>
          </a>
        {% endfor %}
      </div>
    {% else %}
      <p class="status">No matches have been submitted yet.</p>
    {% endif %}
  </section>
{% endblock %}
